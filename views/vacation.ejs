<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" rel="stylesheet" />
<link href="\stylesheets\default.css" rel="stylesheet" type="text/css" media="all" />
<link href="\stylesheets\fonts.css" rel="stylesheet" type="text/css" media="all" />
<link href="\stylesheets\admin.css" rel="stylesheet" type="text/css" />
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>

<style type="text/css"> /* tg1 윗 표, tg 아랫 표 */
.tg1  {border-collapse:collapse;border-spacing:0;border-color:#93a1a1;}
.tg1 td{font-family:Arial, sans-serif;font-size:14px;padding:7px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#93a1a1;color:#002b36;background-color:#fdf6e3;}
.tg1 th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:7px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#93a1a1;color:#fdf6e3;background-color:#657b83;}
.tg1 .tg-rbrk{background-color:white;border-color:inherit;text-align:left;vertical-align:top}
.tg1 .tg-myid{border-color:inherit;text-align:left;vertical-align:top}
.tg  {border-collapse:collapse;border-spacing:0;border-color:#ccc;}
.tg td{font-family:Arial, sans-serif;font-size:10px;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;border-top-width:1px;border-bottom-width:1px;border-color:#ccc;color:#333;background-color:#fff;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;border-top-width:1px;border-bottom-width:1px;border-color:#ccc;color:#333;background-color:#f0f0f0;}

.tg .tg-part{border-color:inherit;text-align:center;vertical-align:top}
.tg .tg-valu{border-color:inherit;text-align:left;vertical-align:top}
</style>
</head>

<body>
<div id="header-wrapper">
  <div id="header" class="container">
    <div id="logo">
      <h1><a href="/admin">직원 관리 시스템</a></h1>

      <span>By <a href="#">CENEMA</a></span>
    </div>
    <div id="menu">
      <ul>
        <li><a href="/admin/info" accesskey="1" title="">사원정보</a></li>
        <li><a href="/admin/sales" accesskey="2" title="">매 출</a></li>
        <li><a href="/admin/salary" accesskey="3" title="">급 여</a></li>
        <li><a href="/admin/rewards" accesskey="4" title="">근 태</a></li>
        <li class="current_page_item"><a href="/admin/vacation" accesskey="5" title="">휴 가</a></li>

      </ul>
    </div>
  </div>
</div>
<div id="ebox1">
	<a href="#" class="button">휴 가</a>
</div>

<% results.forEach(function(row){ 
  var date = JSON.stringify(row.join_date);
  date = date.substring(1,11).split("-"); 
  var year_left = row.year;
  if(row.employee_rank == 1){
    year_left = 15 - row.year;
  } else{
    year_left = 1 - row.year;
  }
  %>

<table class="tg1" width="90%" style="table-layout:fixed; margin-top:15px" align="center">
  <tr>
    <th class="tg-myid">ID </th>
    <th class="tg-myid"><%=row.employee_id%></th>
    <th class="tg-myid">성명 </th>
    <th class="tg-myid"><%=row.employee_name%><button id="myBtn"> + </button></th>
  </tr>
  <tr>
    <td class="tg-rbrk">사용 휴가일 수</td>
    <td class="tg-rbrk"><%=year_left%></td>
    <td class="tg-rbrk">잔여 휴가일 수</td>
    <td class="tg-rbrk"><%=row.year%></td>
  </tr>
</table>

<div class="myModal none" style="margin-top:15px">
<table class="tg" width="90%" style="table-layout:fixed" align="center">
  <tr>
    <th class="tg-part">휴가등록일자</th>
    <th class="tg-part">휴가유형</th>
    <th class="tg-part">휴가시작일자</th>
    <th class="tg-part">휴가종료일자</th>
    <th class="tg-part">휴가승인여부</th>
		<th class="tg-part">사용 휴가일 수</th>
  </tr>
  <tr>
    <td class="tg-valu">0</td>
    <td class="tg-valu">0</td>
    <td class="tg-valu">0</td>
    <td class="tg-valu">0</td>
    <td class="tg-valu">0</td>
		<td class="tg-valu">0</td>
  </tr>
</table>
</div>
<% }); %>

</body>

<script type="text/javascript">
  var button = document.querySelectorAll("button");
  var modal = document.getElementsByClassName('myModal');
  var btn = document.getElementById("myBtn");

  for (let i = 0; i < button.length; i++) {
    document.querySelectorAll("button")[i].addEventListener("click", function () {
    modal[i].classList.toggle("none");
    });
  }

</script>


</html>
